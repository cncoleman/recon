{"config":{"sparqlEndpoint":"http://ldf.fi/identity-resolution-demo/sparql","pageSize":15,"matchQuery":"PREFIX text: <http://jena.apache.org/text#>\nPREFIX pf: <http://jena.hpl.hp.com/ARQ/property#>\nPREFIX sf: <http://ldf.fi/similarity-functions#>\nPREFIX madsrdf: <http://www.loc.gov/mads/rdf/v1#>\nSELECT ?queryId ?entity (SAMPLE(?l) AS ?label) (SAMPLE(?sc) AS ?score) (SAMPLE(?url) AS ?Link) {\n  { # QUERY\n    {\n      SELECT ?entity (SUM(?s)/COUNT(?s) AS ?sc) {\n        {\n          SELECT DISTINCT ?entity {\n            BIND(REPLACE(REPLACE(REPLACE(REPLACE(<QUERY>,\"([\\\\/\\\\+\\\\-\\\\&\\\\|\\\\!\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\^\\\\\\\"\\\\~\\\\*\\\\?\\\\:\\\\\\\\])\",\"\\\\\\\\$1\"),\"^ +| +$\", \"\"),\", *\",\" \"),\"\\\\. \",\"* \") AS ?escapedQuery)\n            BIND(CONCAT(\"(\",?escapedQuery,\") OR (\",REPLACE(?escapedQuery,\"([^*]) +\",\"$1~ \"),\"~)\") AS ?queryTerm)\n            GRAPH <http://id.loc.gov/vocabulary/countries> { ?entity text:query ?queryTerm }\n          }\n          LIMIT 30\n        }\n        ?entity madsrdf:authoritativeLabel ?mlabel .\n        ?str pf:strSplit (<QUERY> \" \")\n        BIND(sf:levenshteinSubstring(?str,STR(?mlabel)) AS ?s)\n      } GROUP BY ?entity\n    }\n    BIND(<QUERY_ID> AS ?queryId)\n    FILTER(BOUND(?entity))\n  } # /QUERY\n  ?entity madsrdf:authoritativeLabel ?l .\n  BIND(CONCAT('<a href=\"',STR(?entity),'\" target=\"_blank\">[o]</a>') AS ?url)\n}\nGROUP BY ?queryId ?entity\nORDER BY ?queryId DESC(?score)\n        "},"state":null}